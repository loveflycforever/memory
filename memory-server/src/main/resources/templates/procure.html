<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"/>
    <title>VForm Demo</title>
    <link rel="stylesheet" href="https://cdn.staticfile.org/element-ui/2.15.7/theme-chalk/index.min.css">
    <link rel="stylesheet" href="https://ks3-cn-beijing.ksyun.com/vform2021/VFormRender.css?t=20210720">
    <style type="text/css">
    </style>
</head>
<body>

<div id="app">
    <v-form-render :form-json="formJson" :form-data="formData" :option-data="optionData" ref="vFormRef">
    </v-form-render>
    <el-button type="primary" @click="submitForm">Submit</el-button>
</div>

<script type="text/javascript">
    if (!!window.ActiveXObject || "ActiveXObject" in window) { //IE load polyfill.js for Promise
        var scriptEle = document.createElement("script");
        scriptEle.type = "text/javascript";
        scriptEle.src = "https://cdn.bootcss.com/babel-polyfill/6.23.0/polyfill.min.js"
        document.body.appendChild(scriptEle)
    }
</script>
<script src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/vue/2.6.14/vue.min.js"></script>
<script src="https://cdn.staticfile.org/element-ui/2.15.7/index.min.js"></script>
<script src="https://ks3-cn-beijing.ksyun.com/vform2021/VFormRender.umd.min.js?t=20210720"></script>
<script src="http://libs.baidu.com/jquery/1.9.0/jquery.min.js"></script>
<script>
    new Vue({
        el: '#app',
        data: {
            formJson: {
                "widgetList": [
                    {
                        "type": "static-text",
                        "icon": "static-text",
                        "formItemFlag": false,
                        "options": {
                            "name": "statictext111193",
                            "columnWidth": "200px",
                            "hidden": false,
                            "textContent": "单列表单",
                            "customClass": [],
                            "onCreated": "",
                            "onMounted": "",
                            "label": "static-text"
                        },
                        "id": "statictext111193"
                    },
                    {
                        "type": "divider",
                        "icon": "divider",
                        "formItemFlag": false,
                        "options": {
                            "name": "divider102346",
                            "label": "",
                            "columnWidth": "200px",
                            "direction": "horizontal",
                            "contentPosition": "center",
                            "hidden": false,
                            "customClass": [],
                            "onCreated": "",
                            "onMounted": ""
                        },
                        "id": "divider102346"
                    },
                    {
                        "type": "grid",
                        "category": "container",
                        "icon": "grid",
                        "cols": [
                            {
                                "type": "grid-col",
                                "category": "container",
                                "icon": "grid-col",
                                "internal": true,
                                "widgetList": [
                                    {
                                        "type": "input",
                                        "icon": "text-field",
                                        "formItemFlag": true,
                                        "options": {
                                            "name": "belongSerialNo",
                                            "label": "商品",
                                            "labelAlign": "",
                                            "type": "text",
                                            "defaultValue": "",
                                            "placeholder": "",
                                            "columnWidth": "200px",
                                            "size": "",
                                            "labelWidth": null,
                                            "labelHidden": false,
                                            "readonly": false,
                                            "disabled": false,
                                            "hidden": false,
                                            "clearable": true,
                                            "showPassword": false,
                                            "required": false,
                                            "requiredHint": "",
                                            "validation": "",
                                            "validationHint": "",
                                            "customClass": "",
                                            "labelIconClass": null,
                                            "labelIconPosition": "rear",
                                            "labelTooltip": null,
                                            "minLength": null,
                                            "maxLength": null,
                                            "showWordLimit": false,
                                            "prefixIcon": "",
                                            "suffixIcon": "",
                                            "appendButton": false,
                                            "appendButtonDisabled": false,
                                            "buttonIcon": "el-icon-search",
                                            "onCreated": "",
                                            "onMounted": "",
                                            "onInput": "",
                                            "onChange": "",
                                            "onFocus": "",
                                            "onBlur": "",
                                            "onValidate": ""
                                        },
                                        "id": "input98000"
                                    }
                                ],
                                "options": {
                                    "name": "gridCol11372",
                                    "hidden": false,
                                    "span": 24,
                                    "offset": 0,
                                    "push": 0,
                                    "pull": 0,
                                    "responsive": false,
                                    "md": 12,
                                    "sm": 12,
                                    "xs": 12,
                                    "customClass": ""
                                },
                                "id": "grid-col-11372"
                            }
                        ],
                        "options": {
                            "name": "grid54488",
                            "hidden": false,
                            "gutter": 12,
                            "colHeight": null,
                            "customClass": ""
                        },
                        "id": "grid54488"
                    },
                    {
                        "type": "grid",
                        "category": "container",
                        "icon": "grid",
                        "cols": [
                            {
                                "type": "grid-col",
                                "category": "container",
                                "icon": "grid-col",
                                "internal": true,
                                "widgetList": [
                                    {
                                        "type": "textarea",
                                        "icon": "textarea-field",
                                        "formItemFlag": true,
                                        "options": {
                                            "name": "summary",
                                            "label": "简介",
                                            "labelAlign": "",
                                            "rows": 2,
                                            "defaultValue": "",
                                            "placeholder": "简单介绍",
                                            "columnWidth": "200px",
                                            "size": "",
                                            "labelWidth": null,
                                            "labelHidden": false,
                                            "readonly": false,
                                            "disabled": false,
                                            "hidden": false,
                                            "required": false,
                                            "validation": "",
                                            "validationHint": "",
                                            "customClass": "",
                                            "labelIconClass": null,
                                            "labelIconPosition": "rear",
                                            "labelTooltip": null,
                                            "minLength": null,
                                            "maxLength": null,
                                            "showWordLimit": false,
                                            "onCreated": "",
                                            "onMounted": "",
                                            "onInput": "",
                                            "onChange": "",
                                            "onFocus": "",
                                            "onBlur": "",
                                            "onValidate": ""
                                        },
                                        "id": "textarea21654"
                                    }
                                ],
                                "options": {
                                    "name": "gridCol72995",
                                    "hidden": false,
                                    "span": 24,
                                    "offset": 0,
                                    "push": 0,
                                    "pull": 0,
                                    "responsive": false,
                                    "md": 12,
                                    "sm": 12,
                                    "xs": 12,
                                    "customClass": ""
                                },
                                "id": "grid-col-72995"
                            },
                            {
                                "type": "grid-col",
                                "category": "container",
                                "icon": "grid-col",
                                "internal": true,
                                "widgetList": [
                                    {
                                        "type": "number",
                                        "icon": "number-field",
                                        "formItemFlag": true,
                                        "options": {
                                            "name": "purchaseQuantity",
                                            "label": "购买数量",
                                            "labelAlign": "",
                                            "defaultValue": 0,
                                            "placeholder": "",
                                            "columnWidth": "200px",
                                            "size": "",
                                            "labelWidth": null,
                                            "labelHidden": false,
                                            "disabled": false,
                                            "hidden": false,
                                            "required": true,
                                            "requiredHint": "",
                                            "validation": "",
                                            "validationHint": "",
                                            "customClass": "",
                                            "labelIconClass": null,
                                            "labelIconPosition": "rear",
                                            "labelTooltip": null,
                                            "min": -100000000000,
                                            "max": 100000000000,
                                            "precision": 0,
                                            "step": 1,
                                            "controlsPosition": "right",
                                            "onCreated": "",
                                            "onMounted": "",
                                            "onChange": "",
                                            "onFocus": "",
                                            "onBlur": "",
                                            "onValidate": ""
                                        },
                                        "id": "number7395"
                                    }
                                ],
                                "options": {
                                    "name": "gridCol45732",
                                    "hidden": false,
                                    "span": 24,
                                    "offset": 0,
                                    "push": 0,
                                    "pull": 0,
                                    "responsive": false,
                                    "md": 12,
                                    "sm": 12,
                                    "xs": 12,
                                    "customClass": ""
                                },
                                "id": "grid-col-45732"
                            },
                            {
                                "type": "grid-col",
                                "category": "container",
                                "icon": "grid-col",
                                "internal": true,
                                "widgetList": [
                                    {
                                        "type": "input",
                                        "icon": "text-field",
                                        "formItemFlag": true,
                                        "options": {
                                            "name": "purchaseLocation",
                                            "label": "购买地点",
                                            "labelAlign": "",
                                            "type": "text",
                                            "defaultValue": "",
                                            "placeholder": "",
                                            "columnWidth": "200px",
                                            "size": "",
                                            "labelWidth": null,
                                            "labelHidden": false,
                                            "readonly": false,
                                            "disabled": false,
                                            "hidden": false,
                                            "clearable": true,
                                            "showPassword": false,
                                            "required": false,
                                            "requiredHint": "",
                                            "validation": "",
                                            "validationHint": "",
                                            "customClass": "",
                                            "labelIconClass": null,
                                            "labelIconPosition": "rear",
                                            "labelTooltip": null,
                                            "minLength": null,
                                            "maxLength": null,
                                            "showWordLimit": false,
                                            "prefixIcon": "",
                                            "suffixIcon": "",
                                            "appendButton": false,
                                            "appendButtonDisabled": false,
                                            "buttonIcon": "el-icon-search",
                                            "onCreated": "",
                                            "onMounted": "",
                                            "onInput": "",
                                            "onChange": "",
                                            "onFocus": "",
                                            "onBlur": "",
                                            "onValidate": ""
                                        },
                                        "id": "input73378"
                                    }
                                ],
                                "options": {
                                    "name": "gridCol59163",
                                    "hidden": false,
                                    "span": 24,
                                    "offset": 0,
                                    "push": 0,
                                    "pull": 0,
                                    "responsive": false,
                                    "md": 12,
                                    "sm": 12,
                                    "xs": 12,
                                    "customClass": ""
                                },
                                "id": "grid-col-59163"
                            }
                        ],
                        "options": {
                            "name": "grid14671",
                            "hidden": false,
                            "gutter": 12,
                            "colHeight": null,
                            "customClass": ""
                        },
                        "id": "grid14671"
                    },
                    {
                        "type": "grid",
                        "category": "container",
                        "icon": "grid",
                        "cols": [
                            {
                                "type": "grid-col",
                                "category": "container",
                                "icon": "grid-col",
                                "internal": true,
                                "widgetList": [
                                    {
                                        "type": "date",
                                        "icon": "date-field",
                                        "formItemFlag": true,
                                        "options": {
                                            "name": "purchaseDate",
                                            "label": "购买日期",
                                            "labelAlign": "",
                                            "type": "date",
                                            "defaultValue": null,
                                            "placeholder": "",
                                            "columnWidth": "200px",
                                            "size": "",
                                            "labelWidth": null,
                                            "labelHidden": false,
                                            "readonly": false,
                                            "disabled": false,
                                            "hidden": false,
                                            "clearable": true,
                                            "editable": false,
                                            "format": "yyyy-MM-dd",
                                            "valueFormat": "yyyy-MM-dd",
                                            "required": false,
                                            "requiredHint": "",
                                            "validation": "",
                                            "validationHint": "",
                                            "customClass": "",
                                            "labelIconClass": null,
                                            "labelIconPosition": "rear",
                                            "labelTooltip": null,
                                            "onCreated": "",
                                            "onMounted": "",
                                            "onChange": "",
                                            "onFocus": "",
                                            "onBlur": "",
                                            "onValidate": ""
                                        },
                                        "id": "date77322"
                                    }
                                ],
                                "options": {
                                    "name": "gridCol95890",
                                    "hidden": false,
                                    "span": 14,
                                    "offset": 0,
                                    "push": 0,
                                    "pull": 0,
                                    "responsive": false,
                                    "md": 12,
                                    "sm": 12,
                                    "xs": 12,
                                    "customClass": ""
                                },
                                "id": "grid-col-95890"
                            },
                            {
                                "type": "grid-col",
                                "category": "container",
                                "icon": "grid-col",
                                "internal": true,
                                "widgetList": [
                                    {
                                        "type": "time",
                                        "icon": "time-field",
                                        "formItemFlag": true,
                                        "options": {
                                            "name": "purchaseTime",
                                            "label": "time",
                                            "labelAlign": "",
                                            "defaultValue": null,
                                            "placeholder": "",
                                            "columnWidth": "200px",
                                            "size": "",
                                            "labelWidth": null,
                                            "labelHidden": true,
                                            "readonly": false,
                                            "disabled": false,
                                            "hidden": false,
                                            "clearable": true,
                                            "editable": false,
                                            "format": "HH:mm:ss",
                                            "required": false,
                                            "requiredHint": "",
                                            "validation": "",
                                            "validationHint": "",
                                            "customClass": "",
                                            "labelIconClass": null,
                                            "labelIconPosition": "rear",
                                            "labelTooltip": null,
                                            "onCreated": "",
                                            "onMounted": "",
                                            "onChange": "",
                                            "onFocus": "",
                                            "onBlur": "",
                                            "onValidate": ""
                                        },
                                        "id": "time66989"
                                    }
                                ],
                                "options": {
                                    "name": "gridCol80681",
                                    "hidden": false,
                                    "span": 10,
                                    "offset": 0,
                                    "push": 0,
                                    "pull": 0,
                                    "responsive": false,
                                    "md": 12,
                                    "sm": 12,
                                    "xs": 12,
                                    "customClass": ""
                                },
                                "id": "grid-col-80681"
                            }
                        ],
                        "options": {
                            "name": "grid30064",
                            "hidden": false,
                            "gutter": 12,
                            "colHeight": null,
                            "customClass": ""
                        },
                        "id": "grid30064"
                    },
                    {
                        "type": "grid",
                        "category": "container",
                        "icon": "grid",
                        "cols": [
                            {
                                "type": "grid-col",
                                "category": "container",
                                "icon": "grid-col",
                                "internal": true,
                                "widgetList": [
                                    {
                                        "type": "number",
                                        "icon": "number-field",
                                        "formItemFlag": true,
                                        "options": {
                                            "name": "price",
                                            "label": "单价",
                                            "labelAlign": "",
                                            "defaultValue": 0,
                                            "placeholder": "",
                                            "columnWidth": "200px",
                                            "size": "",
                                            "labelWidth": null,
                                            "labelHidden": false,
                                            "disabled": false,
                                            "hidden": false,
                                            "required": false,
                                            "requiredHint": "",
                                            "validation": "",
                                            "validationHint": "",
                                            "customClass": "",
                                            "labelIconClass": null,
                                            "labelIconPosition": "rear",
                                            "labelTooltip": null,
                                            "min": -100000000000,
                                            "max": 100000000000,
                                            "precision": 2,
                                            "step": 0.01,
                                            "controlsPosition": "right",
                                            "onCreated": "",
                                            "onMounted": "",
                                            "onChange": "",
                                            "onFocus": "",
                                            "onBlur": "",
                                            "onValidate": ""
                                        },
                                        "id": "number63904"
                                    }
                                ],
                                "options": {
                                    "name": "gridCol23280",
                                    "hidden": false,
                                    "span": 24,
                                    "offset": 0,
                                    "push": 0,
                                    "pull": 0,
                                    "responsive": false,
                                    "md": 12,
                                    "sm": 12,
                                    "xs": 12,
                                    "customClass": ""
                                },
                                "id": "grid-col-23280"
                            }
                        ],
                        "options": {
                            "name": "grid51805",
                            "hidden": false,
                            "gutter": 12,
                            "colHeight": null,
                            "customClass": []
                        },
                        "id": "grid51805"
                    },
                    {
                        "type": "grid",
                        "category": "container",
                        "icon": "grid",
                        "cols": [
                            {
                                "type": "grid-col",
                                "category": "container",
                                "icon": "grid-col",
                                "internal": true,
                                "widgetList": [
                                    {
                                        "type": "select",
                                        "icon": "select-field",
                                        "formItemFlag": true,
                                        "options": {
                                            "name": "currency",
                                            "label": "货币",
                                            "labelAlign": "",
                                            "defaultValue": "",
                                            "placeholder": "",
                                            "columnWidth": "200px",
                                            "size": "",
                                            "labelWidth": null,
                                            "labelHidden": false,
                                            "disabled": false,
                                            "hidden": false,
                                            "clearable": true,
                                            "filterable": false,
                                            "allowCreate": false,
                                            "remote": false,
                                            "automaticDropdown": false,
                                            "multiple": false,
                                            "multipleLimit": 0,
                                            "optionItems": [
                                                {
                                                    "label": "人民币",
                                                    "value": "CNY"
                                                },
                                                {
                                                    "label": "美元",
                                                    "value": "USD"
                                                }
                                            ],
                                            "required": false,
                                            "requiredHint": "",
                                            "validation": "",
                                            "validationHint": "",
                                            "customClass": "",
                                            "labelIconClass": null,
                                            "labelIconPosition": "rear",
                                            "labelTooltip": null,
                                            "onCreated": "",
                                            "onMounted": "",
                                            "onRemoteQuery": "",
                                            "onChange": "",
                                            "onFocus": "",
                                            "onBlur": "",
                                            "onValidate": ""
                                        },
                                        "id": "select52375"
                                    }
                                ],
                                "options": {
                                    "name": "gridCol43080",
                                    "hidden": false,
                                    "span": 24,
                                    "offset": 0,
                                    "push": 0,
                                    "pull": 0,
                                    "responsive": false,
                                    "md": 12,
                                    "sm": 12,
                                    "xs": 12,
                                    "customClass": ""
                                },
                                "id": "grid-col-43080"
                            }
                        ],
                        "options": {
                            "name": "grid26488",
                            "hidden": false,
                            "gutter": 12,
                            "colHeight": null,
                            "customClass": ""
                        },
                        "id": "grid26488"
                    },
                    {
                        "type": "grid",
                        "category": "container",
                        "icon": "grid",
                        "cols": [
                            {
                                "type": "grid-col",
                                "category": "container",
                                "icon": "grid-col",
                                "internal": true,
                                "widgetList": [
                                    {
                                        "type": "number",
                                        "icon": "number-field",
                                        "formItemFlag": true,
                                        "options": {
                                            "name": "plannedDay",
                                            "label": "计划天数",
                                            "labelAlign": "",
                                            "defaultValue": 0,
                                            "placeholder": "",
                                            "columnWidth": "200px",
                                            "size": "",
                                            "labelWidth": null,
                                            "labelHidden": false,
                                            "disabled": false,
                                            "hidden": false,
                                            "required": false,
                                            "requiredHint": "",
                                            "validation": "",
                                            "validationHint": "",
                                            "customClass": "",
                                            "labelIconClass": null,
                                            "labelIconPosition": "rear",
                                            "labelTooltip": null,
                                            "min": -100000000000,
                                            "max": 100000000000,
                                            "precision": 0,
                                            "step": 1,
                                            "controlsPosition": "right",
                                            "onCreated": "",
                                            "onMounted": "",
                                            "onChange": "",
                                            "onFocus": "",
                                            "onBlur": "",
                                            "onValidate": ""
                                        },
                                        "id": "number52042"
                                    }
                                ],
                                "options": {
                                    "name": "gridCol38414",
                                    "hidden": false,
                                    "span": 24,
                                    "offset": 0,
                                    "push": 0,
                                    "pull": 0,
                                    "responsive": false,
                                    "md": 12,
                                    "sm": 12,
                                    "xs": 12,
                                    "customClass": ""
                                },
                                "id": "grid-col-38414"
                            },
                            {
                                "type": "grid-col",
                                "category": "container",
                                "icon": "grid-col",
                                "internal": true,
                                "widgetList": [
                                    {
                                        "type": "date",
                                        "icon": "date-field",
                                        "formItemFlag": true,
                                        "options": {
                                            "name": "closedDate",
                                            "label": "结束日期",
                                            "labelAlign": "",
                                            "type": "date",
                                            "defaultValue": null,
                                            "placeholder": "",
                                            "columnWidth": "200px",
                                            "size": "",
                                            "labelWidth": null,
                                            "labelHidden": false,
                                            "readonly": false,
                                            "disabled": false,
                                            "hidden": false,
                                            "clearable": true,
                                            "editable": false,
                                            "format": "yyyy-MM-dd",
                                            "valueFormat": "yyyy-MM-dd",
                                            "required": false,
                                            "requiredHint": "",
                                            "validation": "",
                                            "validationHint": "",
                                            "customClass": "",
                                            "labelIconClass": null,
                                            "labelIconPosition": "rear",
                                            "labelTooltip": null,
                                            "onCreated": "",
                                            "onMounted": "",
                                            "onChange": "",
                                            "onFocus": "",
                                            "onBlur": "",
                                            "onValidate": ""
                                        },
                                        "id": "date46150"
                                    }
                                ],
                                "options": {
                                    "name": "gridCol40513",
                                    "hidden": false,
                                    "span": 24,
                                    "offset": 0,
                                    "push": 0,
                                    "pull": 0,
                                    "responsive": false,
                                    "md": 12,
                                    "sm": 12,
                                    "xs": 12,
                                    "customClass": ""
                                },
                                "id": "grid-col-40513"
                            }
                        ],
                        "options": {
                            "name": "grid80592",
                            "hidden": false,
                            "gutter": 12,
                            "colHeight": null,
                            "customClass": ""
                        },
                        "id": "grid80592"
                    },
                    {
                        "type": "divider",
                        "icon": "divider",
                        "formItemFlag": false,
                        "options": {
                            "name": "divider75887",
                            "label": "",
                            "columnWidth": "200px",
                            "direction": "horizontal",
                            "contentPosition": "center",
                            "hidden": false,
                            "customClass": [],
                            "onCreated": "",
                            "onMounted": ""
                        },
                        "id": "divider75887"
                    }
                ],
                "formConfig": {
                    "modelName": "formData",
                    "refName": "vForm",
                    "rulesName": "rules",
                    "labelWidth": 150,
                    "labelPosition": "left",
                    "size": "",
                    "labelAlign": "label-left-align",
                    "cssCode": "",
                    "customClass": [],
                    "functions": "",
                    "layoutType": "PC",
                    "onFormCreated": "",
                    "onFormMounted": "",
                    "onFormDataChange": ""
                }
            },
            formData: {},
            optionData: {}
        },
        methods: {
            submitForm: function () {
                this.$refs.vFormRef.getFormData().then(function (formData) {
                    // alert( JSON.stringify(formData) )
                    formData.purchaseDatetime = formData.purchaseDate + ' ' + formData.purchaseTime
                    $.ajax({
                        url: '/memory/procure/create',
                        data: JSON.stringify(formData),
                        type: "POST",
                        dataType: "json",
                        contentType: "application/json;charset=UTF-8",
                        success: function (response) {
                            alert(JSON.stringify(response))
                        }
                    })
                }).catch(function (error) {
                    // Form Validation Failed
                    alert(error)
                })
            }
        }
    });
</script>
</body>
</html>